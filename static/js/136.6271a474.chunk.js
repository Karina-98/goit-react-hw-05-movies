"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[136],{9760:function(t,n,e){e.d(n,{_:function(){return a}});var r=e(184),a=function(t){var n=t.children;return(0,r.jsx)("p",{children:n})}},3235:function(t,n,e){e.d(n,{Bt:function(){return p},Me:function(){return h},Tg:function(){return i},V9:function(){return f},on:function(){return l}});var r=e(5861),a=e(7757),c=e.n(a),u=e(1243),o="https://api.themoviedb.org/3",s="c24b132e7bdacd2f4b83fad270195cf7",i=function(){var t=(0,r.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/trending/movie/day?api_key=").concat(s));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(c().mark((function t(n){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(n,"?api_key=").concat(s,"&language=en-US"));case 2:if(200===(e=t.sent).status){t.next=7;break}throw new Error(" ERROR! Smth went wrong! ");case 7:return t.abrupt("return",e.data);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),h=function(){var t=(0,r.Z)(c().mark((function t(n){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(n,"/credits?api_key=").concat(s,"&language=en-US"));case 2:if(200===(e=t.sent).status){t.next=7;break}throw new Error(" ERROR! Smth went wrong! ");case 7:return t.abrupt("return",e.data.cast);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(c().mark((function t(n){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(n,"/reviews?api_key=").concat(s,"&language=en-US"));case 2:if(200===(e=t.sent).status){t.next=7;break}throw new Error(" ERROR! Smth went wrong! ");case 7:return t.abrupt("return",e.data.results);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(c().mark((function t(n){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/search/movie?api_key=").concat(s,"&language=en-US&page=1&include_adult=false&query=").concat(n));case 2:if(200===(e=t.sent).status){t.next=8;break}throw console.log(e),new Error(" ERROR! Smth went wrong! ");case 8:return t.abrupt("return",e.data.results);case 9:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},1136:function(t,n,e){e.r(n),e.d(n,{Movies:function(){return v}});var r=e(9439),a=e(7689),c=e(1087),u=e(184),o=function(t){var n=t.films,e=(0,a.TH)();return(0,u.jsx)("ul",{children:n.map((function(t){return(0,u.jsx)("li",{children:(0,u.jsx)(c.rU,{to:"/movies/".concat(t.id),state:{from:e},children:t.title})},t.id)}))})},s=e(2791),i=function(t){var n=t.fetchSearchMovie,e=(0,s.useState)(""),a=(0,r.Z)(e,2),c=a[0],o=a[1];return(0,u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n(c.toLowerCase())},children:[(0,u.jsx)("input",{type:"text",name:"query",autoFocus:!0,value:c,onChange:function(t){o(t.target.value)}}),(0,u.jsx)("button",{type:"submit",children:"Search"})]})},f=e(3235),h=e(6144),p=e(9760),l=e(7222),v=function(){var t=(0,l.a)(),n=t.search,e=t.setSearch,a=(0,s.useState)(""),c=(0,r.Z)(a,2),v=c[0],d=c[1],w=(0,s.useState)(!1),g=(0,r.Z)(w,2),x=g[0],m=g[1],b=(0,s.useState)(!1),k=(0,r.Z)(b,2),S=k[0],y=k[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i,{fetchSearchMovie:function(t){y(!0),(0,f.on)(t).then((function(t){e(t),m(0===t.length)})).catch((function(t){return d(t.statusText)})).finally(y(!1))}}),S&&(0,u.jsx)(h.a,{}),n&&(0,u.jsx)(o,{films:n}),x&&(0,u.jsx)("p",{children:"Nothing found, please re-enter the title"}),v&&(0,u.jsx)(p._,{children:v})]})}}}]);
//# sourceMappingURL=136.6271a474.chunk.js.map